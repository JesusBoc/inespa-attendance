import{s as o}from"./supabase-zSLyDIsJ.js";async function g(){const{data:{user:c}}=await o.auth.getUser();if(!c){location.replace("index.html");return}const{data:i}=await o.from("perfiles_usuarios").select("*").single();if(!i)return;document.getElementById("saludo").textContent=`Hola, ${i.nombre} ${i.apellido}`;const{data:s}=await o.from("vista_clases_docente").select("*").eq("docente_id",c.id),l=document.getElementById("clases");!s||s.length===0?l.textContent="No tienes clases asignadas":s.forEach(t=>{const e=document.createElement("div");e.className="card";const a=document.createElement("strong");a.innerText=`${t.grupo} - ${t.materia}`,a.className="classInfo";const r=document.createElement("br"),n=document.createElement("button");n.innerText="Tomar asistencia",n.onclick=()=>u(t.dmg_id),n.className="goAttendance",e.appendChild(a),e.appendChild(r),e.appendChild(n),l.appendChild(e)});const{data:d}=await o.from("grupos").select("id, nombre").eq("director_id",c.id),m=document.getElementById("direccion");!d||d.length===0?m.textContent="No eres director de grupo":(d.forEach(t=>{const e=document.createElement("div");e.className="card";const a=document.createElement("strong");a.innerText=`${t.nombre}`,a.className="classInfo";const r=document.createElement("br"),n=document.createElement("button");n.innerText="Ver reporte general",n.onclick=()=>p(t.id),n.className="goAttendance",e.appendChild(a),e.appendChild(r),e.appendChild(n),m.appendChild(e)}),document.body.style.opacity="1");function u(t){window.location.href=`asistencia.html?dmg_id=${t}`}function p(t){alert("Reporte aun no implementado")}}g();
