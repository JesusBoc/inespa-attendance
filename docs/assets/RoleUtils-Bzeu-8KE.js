import{s as l}from"./supabase-BZquj9zQ.js";async function c(){const{data:{user:a}}=await l.auth.getUser(),n=window.location.pathname.split("/").pop();if(!a)return n!==""&&n!=="index.html"&&location.replace("index.html"),null;const{data:r}=await l.from("perfiles_usuarios").select("*").eq("id",a.id).single();if(!r)return location.replace("index.html"),null;const e=r.rol;switch(n){case"":case"index.html":return t(e),null;case"clases.html":if(e==="admin")return t(e),null;break;case"adminPanel.html":if(e!=="admin")return t(e),null;break;case"dashboard.html":if(e==="admin")return t(e),null;break;case"asistencia.html":if(e!=="docente")return t(e),null;break;default:throw new Error("This page is not guarded yet")}return{user:a,perfil:r}}function i(a){switch(a){case"admin":return"adminPanel.html";case"coordinador":return"clases.html";case"docente":return"clases.html"}}function t(a){location.replace(i(a))}export{t as a,c as r};
