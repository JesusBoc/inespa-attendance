import{s as o}from"./supabase-_LV1ChGw.js";async function g(){const{data:{user:c}}=await o.auth.getUser();if(!c){location.replace("index.html");return}const{data:s}=await o.from("perfiles_usuarios").select("*").single();if(!s)return;document.getElementById("saludo").textContent=`Hola, ${s.nombre} ${s.apellido}`;const{data:i}=await o.from("vista_clases_docente").select("*").eq("docente_id",c.id),l=document.getElementById("clases");!i||i.length===0?l.textContent="No tienes clases asignadas":i.forEach(t=>{const e=document.createElement("div");e.className="card";const a=document.createElement("strong");a.innerText=`${t.grupo} - ${t.materia}`,a.className="classInfo";const r=document.createElement("br"),n=document.createElement("button");n.innerText="Tomar asistencia",n.onclick=()=>p(t.dmg_id),n.className="goAttendance",e.appendChild(a),e.appendChild(r),e.appendChild(n),l.appendChild(e)});const{data:d}=await o.from("grupos").select("id, nombre").eq("director_id",c.id),m=document.getElementById("direccion");!d||d.length===0?m.textContent="No eres director de grupo":d.forEach(t=>{const e=document.createElement("div");e.className="card";const a=document.createElement("strong");a.innerText=`${t.nombre}`,a.className="classInfo";const r=document.createElement("br"),n=document.createElement("button");n.innerText="Ver reporte general",n.onclick=()=>u(t.id),n.className="goAttendance",e.appendChild(a),e.appendChild(r),e.appendChild(n),m.appendChild(e)}),document.body.style.opacity="1";function p(t){location.replace(`asistencia.html?dmg_id=${t}`)}function u(t){location.replace(`dashboard.html?dmg_id=${t}`)}}g();
