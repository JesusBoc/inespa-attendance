import"./index-Q759UxCl.js";import{s as c}from"./supabase-DEVtsQcK.js";async function g(){const{data:{user:o}}=await c.auth.getUser();if(!o){location.replace("index.html");return}console.log(o);const{data:i}=await c.from("perfiles_usuarios").select("*").single();if(!i)return;document.getElementById("saludo").textContent=`Hola, ${i.nombre} ${i.apellido}`;const{data:s}=await c.from("vista_clases_docente").select("*").eq("docente_id",o.id),l=document.getElementById("clases");!s||s.length===0?l.textContent="No tienes clases asignadas":s.forEach(t=>{const e=document.createElement("div");e.className="card";const a=document.createElement("strong");a.innerText=`${t.grupo} - ${t.materia}`,a.className="classInfo";const r=document.createElement("br"),n=document.createElement("button");n.innerText="Tomar asistencia",n.onclick=()=>p(t.dmg_id),n.className="goAttendance",e.appendChild(a),e.appendChild(r),e.appendChild(n),l.appendChild(e)});const{data:d}=await c.from("grupos").select("id, nombre").eq("director_id",o.id),m=document.getElementById("direccion");!d||d.length===0?m.textContent="No eres director de grupo":(d.forEach(t=>{const e=document.createElement("div");e.className="card";const a=document.createElement("strong");a.innerText=`${t.nombre}`,a.className="classInfo";const r=document.createElement("br"),n=document.createElement("button");n.innerText="Ver reporte general",n.onclick=()=>u(t.id),n.className="goAttendance",e.appendChild(a),e.appendChild(r),e.appendChild(n),m.appendChild(e)}),document.body.style.opacity="1");function p(t){window.location.href=`asistencia.html?dmg_id=${t}`}function u(t){alert("Reporte aun no implementado")}}g();
