import{s as o}from"./supabase-nxG2sKHJ.js";async function f(){const{data:{user:d}}=await o.auth.getUser();if(!d){location.replace("index.html");return}const{data:c}=await o.from("perfiles_usuarios").select("*").single();if(!c)return;document.getElementById("saludo").textContent=`Hola, ${c.nombre} ${c.apellido}`;const{data:s}=await o.from("vista_clases_docente").select("*").eq("docente_id",d.id),{data:i,error:l}=await o.from("grupos").select("*").order("nivel").order("nombre");l&&alert(l.message);const m=document.getElementById("clases");!s||s.length===0?m.textContent="No tienes clases asignadas":s.forEach(t=>{const e=document.createElement("div");e.className="card";const a=document.createElement("strong");a.innerText=`${t.grupo} - ${t.materia}`,a.className="classInfo";const r=document.createElement("br"),n=document.createElement("button");n.innerText="Tomar asistencia",n.onclick=()=>p(t.dmg_id),n.className="goAttendance",e.appendChild(a),e.appendChild(r),e.appendChild(n),m.appendChild(e)});const u=document.getElementById("direccion");!i||i.length===0?u.textContent="No eres director de grupo":i.forEach(t=>{const e=document.createElement("div");e.className="card";const a=document.createElement("strong");a.innerText=`${t.nombre}`,a.className="classInfo";const r=document.createElement("br"),n=document.createElement("button");n.innerText="Ver reporte general",n.onclick=()=>g(t.id),n.className="goAttendance",e.appendChild(a),e.appendChild(r),e.appendChild(n),u.appendChild(e)}),document.body.style.opacity="1";function p(t){location.replace(`asistencia.html?dmg_id=${t}`)}function g(t){window.location.href=`dashboard.html?grupo_id=${t}`}}f();
