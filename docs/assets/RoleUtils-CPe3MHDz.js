import{s as n}from"./supabase-QAr4hHux.js";async function o(){const{data:{user:a}}=await n.auth.getUser();if(!a)return location.replace("index.html"),null;const{data:t}=await n.from("perfiles_usuarios").select("*").eq("id",a.id).single();if(!t)return location.replace("index.html"),null;const e=t.rol;switch(window.location.pathname.split("/").pop()){case"clases.html":if(e==="admin")return r(e),null;break;case"adminPanel.html":if(e!=="admin")return r(e),null;break;case"dashboard.html":if(e==="admin")return r(e),null;break;case"asistencia.html":if(e!=="docente")return r(e),null;break;default:throw new Error("This page is not guarded yet")}return{user:a,perfil:t}}function l(a){switch(a){case"admin":return"adminPanel.html";case"coordinador":return"clases.html";case"docente":return"clases.html"}}function r(a){location.replace(l(a))}export{o as r};
